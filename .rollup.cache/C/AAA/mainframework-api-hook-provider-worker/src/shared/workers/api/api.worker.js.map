{"version":3,"file":"api.worker.js","sourceRoot":"","sources":["api.worker.ts"],"names":[],"mappings":"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","sourcesContent":["/// <reference lib=\"webworker\" />\n\nimport type {\n  AbortControllers,\n  BinaryParseResult,\n  BinaryResponseMeta,\n  DataRequest,\n  WorkerApiRequest,\n  WorkerErrorKind,\n  WorkerMessageData,\n} from \"../../types/types\";\n\nexport const BINARY_MARKER = Symbol.for(\"WorkerApiBinary\");\n\nconst CODE_CACHE_MISS = \"CACHE_MISS\";\nconst CODE_INVALID_REQUEST = \"INVALID_REQUEST\";\nconst CODE_NETWORK_ERROR = \"NETWORK_ERROR\";\nconst CODE_UNKNOWN = \"UNKNOWN\";\nconst DEFAULT_FILES_FIELD = \"Files\";\n\nconst callerResponse = <T>(cacheName: string, data: T, hookId?: string | null, httpStatus?: number): void => {\n  self.postMessage({ cacheName, data: data ?? null, hookId, httpStatus });\n};\n\nconst makeError = (\n  kind: WorkerErrorKind,\n  message: string,\n  opts?: { status?: number; code?: string },\n): { kind: WorkerErrorKind; message: string; status?: number; code?: string } => ({\n  kind,\n  message,\n  ...opts,\n});\n\n/**\n * Binary response - transferred via postMessage, not stored in cache.\n * Client receives ArrayBuffer + meta for reconstruction (e.g. new Blob([data], { type })).\n */\nconst callerResponseBinary = (\n  cacheName: string,\n  data: ArrayBuffer,\n  meta: BinaryResponseMeta,\n  hookId?: string | null,\n  httpStatus?: number,\n): void => {\n  if (data) {\n    self.postMessage({ cacheName, data, meta, hookId, httpStatus }, [data]);\n  }\n};\n\nconst store = Object.create(null) as Record<string, unknown>;\nconst normalizeKey = (key: string) => key.toLocaleLowerCase();\nconst get = <TData>(key: string): TData | undefined => store[normalizeKey(key)] as TData | undefined;\nconst set = <TData>(key: string, value: TData): void => {\n  store[normalizeKey(key)] = value;\n};\nconst remove = (key: string): void => {\n  delete store[normalizeKey(key)];\n};\n\nconst isNonEmptyString = (v: unknown): v is string => typeof v === \"string\" && v.trim() !== \"\";\n\n/** Returns headers without Content-Type (either casing). Use when FormData sets it automatically. */\nconst omitContentType = (headers: Record<string, string>): Record<string, string> => {\n  const rest = { ...headers };\n  delete rest[\"Content-Type\"];\n  delete rest[\"content-type\"];\n  return rest;\n};\n\nconst isBinaryResponse = (r: unknown): r is BinaryParseResult =>\n  !!r &&\n  typeof r === \"object\" &&\n  BINARY_MARKER in r &&\n  (r as Record<symbol, unknown>)[BINARY_MARKER] === true &&\n  (r as unknown as BinaryParseResult).data instanceof ArrayBuffer;\n\nconst commit = <TData>(cacheName: string, data: TData, hookId?: string | null, httpStatus?: number): void => {\n  if (cacheName) {\n    set(normalizeKey(cacheName), data);\n    callerResponse(cacheName, data, hookId, httpStatus);\n    return;\n  }\n\n  callerResponse(\n    \"error\",\n    makeError(\"validation\", \"Invalid commit: cacheName is required\", { code: CODE_INVALID_REQUEST }),\n    hookId,\n  );\n};\n\n/**\n * Parses response based on content-type.\n * Returns parsed data for JSON/text, or binary result with BINARY_MARKER, data (ArrayBuffer), contentType, contentDisposition.\n */\nconst parseResponseByContentType = async (response: Response): Promise<unknown> => {\n  const contentType = response.headers.get(\"content-type\")?.toLocaleLowerCase() || \"\";\n  const contentLength = response.headers.get(\"content-length\");\n\n  // No content\n  if (response.status === 204 || contentLength === \"0\") {\n    return null;\n  }\n\n  // JSON types - let it throw if malformed\n  if (contentType.includes(\"json\")) {\n    return await response.json();\n  }\n\n  // Text-based types\n  if (\n    contentType.startsWith(\"text/\") ||\n    contentType.includes(\"xml\") ||\n    contentType.includes(\"javascript\") ||\n    contentType.includes(\"x-www-form-urlencoded\")\n  ) {\n    return await response.text();\n  }\n\n  // Binary types (known or fallback) - use arrayBuffer for zero-copy transfer to client\n  const arrayBuffer = await response.arrayBuffer();\n  return {\n    [BINARY_MARKER]: true as const,\n    data: arrayBuffer,\n    contentType,\n    contentDisposition: response.headers.get(\"content-disposition\"),\n  };\n};\n\nconst appendToFormData = (\n  formData: FormData,\n  key: string,\n  value: unknown,\n  fileFieldName: string = DEFAULT_FILES_FIELD,\n  visited?: WeakSet<object>,\n): boolean => {\n  const formFieldName = key ? key : fileFieldName;\n  if (value instanceof File) {\n    formData.append(formFieldName, value, value.name);\n    return true;\n  }\n\n  if (value instanceof Blob) {\n    formData.append(formFieldName, value, \"blob\");\n    return true;\n  }\n\n  if (value !== null && value !== undefined && typeof value === \"object\") {\n    const set = visited ?? new WeakSet<object>();\n    if (set.has(value)) return false;\n    set.add(value);\n    if (Array.isArray(value)) {\n      let hasFile = false;\n      for (let i = 0; i < value.length; i++) {\n        hasFile = appendToFormData(formData, key ? `${key}.${i}` : String(i), value[i], fileFieldName, set) || hasFile;\n      }\n      return hasFile;\n    }\n    let hasFile = false;\n    for (const k in value) {\n      if (Object.prototype.hasOwnProperty.call(value, k)) {\n        hasFile =\n          appendToFormData(\n            formData,\n            key ? `${key}.${k}` : k,\n            (value as Record<string, unknown>)[k],\n            fileFieldName,\n            set,\n          ) || hasFile;\n      }\n    }\n    return hasFile;\n  }\n\n  if (value !== undefined && value !== null) {\n    const primitive = value as string | number | boolean | bigint | symbol;\n    formData.append(key, primitive as string | Blob);\n  }\n  return false;\n};\n\nconst createFormDataIfBlobOrFile = (\n  payload: unknown,\n  fileFieldName: string = DEFAULT_FILES_FIELD,\n  formDataKey: string = DEFAULT_FILES_FIELD,\n): FormData | null => {\n  if (payload === null || payload === undefined || typeof payload !== \"object\") {\n    return null;\n  }\n\n  const formData = new FormData();\n  const visited = new WeakSet<object>();\n  const hasFile = appendToFormData(formData, formDataKey, payload, fileFieldName, visited);\n  return hasFile ? formData : null;\n};\n\nconst getContentType = (headers: Record<string, string> = {}): string =>\n  headers[\"Content-Type\"] || headers[\"content-type\"] || \"application/json\";\n\nconst getPayloadType = (payload: unknown): string => {\n  switch (true) {\n    case payload instanceof FormData:\n      return \"formdata\";\n    case payload instanceof Blob:\n      return \"blob\";\n    case payload instanceof ArrayBuffer:\n      return \"arraybuffer\";\n    case ArrayBuffer.isView(payload):\n      return \"arraybufferview\";\n    case typeof ReadableStream !== \"undefined\" && payload instanceof ReadableStream:\n      return \"stream\";\n    case typeof payload === \"string\":\n      return \"string\";\n    default:\n      return \"object\";\n  }\n};\n\nconst buildJsonBody = (payload: unknown): BodyInit => JSON.stringify(payload);\nconst buildUrlEncodedBody = (payload: Record<string, string>): BodyInit => new URLSearchParams(payload).toString();\nconst buildTextBody = (payload: unknown): BodyInit => String(payload);\n\nconst prepareRequestBody = (\n  payload: unknown,\n  headers: Record<string, string>,\n  options?: { formDataFileFieldName?: string; formDataKey?: string },\n): { body?: BodyInit; headers: Record<string, string> } => {\n  const payloadType = getPayloadType(payload);\n  const outHeaders = (): Record<string, string> => ({ ...headers });\n\n  switch (payloadType) {\n    case \"formdata\":\n      return { body: payload as FormData, headers: omitContentType(outHeaders()) };\n\n    case \"blob\":\n      return { body: payload as Blob, headers: outHeaders() };\n\n    case \"arraybuffer\":\n      return { body: payload as ArrayBuffer, headers: outHeaders() };\n\n    case \"arraybufferview\":\n      return { body: payload as BodyInit, headers: outHeaders() };\n\n    case \"stream\":\n      return { body: payload as ReadableStream<Uint8Array>, headers: outHeaders() };\n\n    case \"string\":\n      return { body: payload as string, headers: outHeaders() };\n\n    case \"object\": {\n      const h = outHeaders();\n      const contentType = getContentType(h);\n      const fileFieldName = options?.formDataFileFieldName ?? DEFAULT_FILES_FIELD;\n      const formDataKey = options?.formDataKey ?? DEFAULT_FILES_FIELD;\n\n      let body: BodyInit;\n      if (contentType.includes(\"application/json\")) {\n        body = buildJsonBody(payload);\n      } else if (contentType.includes(\"application/x-www-form-urlencoded\")) {\n        body = buildUrlEncodedBody(payload as Record<string, string>);\n      } else if (contentType.startsWith(\"text/\") || contentType.includes(\"xml\")) {\n        body = buildTextBody(payload);\n      } else if (contentType.includes(\"multipart/form-data\")) {\n        const formData = createFormDataIfBlobOrFile(payload, fileFieldName, formDataKey);\n        if (formData) {\n          return { body: formData, headers: omitContentType(h) };\n        }\n        body = buildJsonBody(payload);\n        h[\"Content-Type\"] = \"application/json\";\n      } else {\n        body = buildJsonBody(payload);\n      }\n\n      if (!h[\"Content-Type\"] && !h[\"content-type\"]) {\n        h[\"Content-Type\"] = contentType;\n      }\n      return { body, headers: h };\n    }\n\n    default:\n      return { headers: outHeaders() };\n  }\n};\n\nconst inFlightControllers: AbortControllers = new Map();\nconst inFlightByCacheName = new Map<string, Promise<void>>();\n\nconst apiRequest = async <TData>(\n  cacheName: string,\n  payload: TData | FormData | null,\n  {\n    url,\n    method,\n    headers = {},\n    mode = \"cors\",\n    credentials = \"same-origin\",\n    responseType,\n    timeoutMs,\n    formDataFileFieldName,\n    formDataKey,\n  }: WorkerApiRequest,\n  requestId?: string | null,\n  hookId?: string | null,\n): Promise<void> => {\n  const methodLower = method.toLocaleLowerCase();\n  const responseTypeLower = responseType?.toLocaleLowerCase();\n\n  // Early return (cached then fresh) allowed for any HTTP method, except when response is binary or streaming.\n  const skipInFlightDedupe = responseTypeLower === \"binary\" || responseTypeLower === \"stream\";\n  if (!skipInFlightDedupe) {\n    const existing = inFlightByCacheName.get(cacheName);\n    if (existing) {\n      const cached = get(cacheName);\n      if (cached !== undefined) callerResponse(cacheName, cached, hookId);\n      await existing;\n      const fresh = get(cacheName);\n      if (fresh !== undefined) callerResponse(cacheName, fresh, hookId);\n      return;\n    }\n  }\n\n  const controller = new AbortController();\n  if (requestId) {\n    inFlightControllers.set(requestId, controller);\n  }\n\n  let timeoutId: ReturnType<typeof setTimeout> | undefined;\n  if (timeoutMs != null && timeoutMs > 0) {\n    timeoutId = setTimeout(() => controller.abort(), timeoutMs);\n  }\n\n  const promise = (async (): Promise<void> => {\n    const fetchOptions: RequestInit = {\n      method,\n      mode,\n      credentials,\n      signal: controller.signal,\n    };\n\n    if (methodLower !== \"get\" && payload != null) {\n      let prepareOptions: { formDataFileFieldName?: string; formDataKey?: string } | undefined;\n      if (formDataFileFieldName != null && formDataFileFieldName !== \"\") {\n        prepareOptions = { formDataFileFieldName };\n      }\n      if (formDataKey != null && formDataKey !== \"\") {\n        prepareOptions = { ...prepareOptions, formDataKey };\n      }\n      const { body, headers: processedHeaders } = prepareRequestBody(payload, headers, prepareOptions);\n      if (body !== undefined) fetchOptions.body = body;\n      fetchOptions.headers = processedHeaders;\n    } else {\n      fetchOptions.headers = omitContentType({ ...headers });\n    }\n\n    try {\n      const response = await fetch(url, fetchOptions);\n\n      if (response.status >= 400) {\n        callerResponse(\n          cacheName,\n          makeError(\"http\", response.statusText, { status: response.status, code: String(response.status) }),\n          hookId,\n          response.status,\n        );\n        return;\n      }\n\n      if (response.status === 204) {\n        set(normalizeKey(cacheName), null);\n        callerResponse(cacheName, null, hookId, 204);\n        return;\n      }\n\n      const responseData = await parseResponseByContentType(response);\n\n      if (isBinaryResponse(responseData)) {\n        callerResponseBinary(\n          cacheName,\n          responseData.data,\n          {\n            contentType: responseData.contentType,\n            contentDisposition: responseData.contentDisposition ?? null,\n          },\n          hookId,\n          response.status,\n        );\n      } else {\n        commit(cacheName, responseData, hookId, response.status);\n      }\n    } catch (error) {\n      if ((error as Error).name === \"AbortError\") {\n        return;\n      }\n      const err = error as Error;\n      const code = err.name === \"TypeError\" ? CODE_NETWORK_ERROR : CODE_UNKNOWN;\n      callerResponse(cacheName, makeError(\"network\", err.message, { code }), hookId);\n    } finally {\n      if (timeoutId != null) clearTimeout(timeoutId);\n      if (requestId) {\n        inFlightControllers.delete(requestId);\n      }\n      inFlightByCacheName.delete(cacheName);\n    }\n  })();\n\n  inFlightByCacheName.set(cacheName, promise);\n  await promise;\n};\n\nconst onRequest = <TData>(dataRequest: DataRequest<TData>): void => {\n  const { cacheName, type, payload, request, requestId, hookId } = dataRequest;\n\n  if (!isNonEmptyString(type)) {\n    callerResponse(\n      \"error\",\n      makeError(\"validation\", \"Invalid request: type is required\", { code: CODE_INVALID_REQUEST }),\n      hookId,\n    );\n    return;\n  }\n  const lowerType = normalizeKey(type);\n\n  if (lowerType === \"cancel\") {\n    if (requestId) onCancel(requestId);\n    return;\n  }\n\n  if (!isNonEmptyString(cacheName)) {\n    callerResponse(\n      \"error\",\n      makeError(\"validation\", \"Invalid request: cacheName is required\", { code: CODE_INVALID_REQUEST }),\n      hookId,\n    );\n    return;\n  }\n  const lowerCacheName = normalizeKey(cacheName);\n\n  if (lowerType === \"get\") {\n    const requestedData = get(lowerCacheName);\n    if (requestedData === undefined) {\n      callerResponse(lowerCacheName, makeError(\"validation\", \"Cache miss\", { code: CODE_CACHE_MISS }), hookId);\n    } else {\n      callerResponse(lowerCacheName, requestedData, hookId);\n    }\n  } else if (lowerType === \"set\") {\n    if (!request) {\n      if (payload == null) {\n        callerResponse(\n          \"error\",\n          makeError(\"validation\", \"Invalid request: payload is required for set\", { code: CODE_INVALID_REQUEST }),\n          hookId,\n        );\n        return;\n      }\n      set(lowerCacheName, payload);\n    } else {\n      const methodLower = normalizeKey(request.method);\n      if (methodLower !== \"get\" && payload == null) {\n        callerResponse(\n          \"error\",\n          makeError(\"validation\", \"Invalid request: payload is required for non-GET API request\", {\n            code: CODE_INVALID_REQUEST,\n          }),\n          hookId,\n        );\n        return;\n      }\n      void apiRequest(lowerCacheName, payload ?? null, request, requestId, hookId);\n    }\n  } else if (lowerType === \"delete\") {\n    remove(lowerCacheName);\n    callerResponse(lowerCacheName, { deleted: true }, hookId);\n  }\n};\n\nconst onCancel = (requestId: string): void => {\n  const controller = inFlightControllers.get(requestId);\n  if (controller) {\n    controller.abort();\n    inFlightControllers.delete(requestId);\n  }\n};\n\n/**\n * Incoming messages from the main thread. Expects payload shape { dataRequest?: DataRequest }.\n * Dispatches to get/set/delete/cancel. Responses via postMessage: { cacheName, data?, meta?, hookId?, httpStatus? }.\n * Errors as data: { kind: \"http\"|\"network\"|\"validation\", message, status?, code? }.\n */\nonmessage = (event: MessageEvent): void => {\n  const data = event.data as DataRequest;\n  if (data === null || typeof data !== \"object\") return;\n  const dataRequest = (data as WorkerMessageData).dataRequest;\n  if (dataRequest !== undefined) onRequest(dataRequest);\n};\n"]}